#!/usr/bin/env bash

# SPDX-FileCopyrightText: 2020 Umbrel. https://getumbrel.com
# SPDX-FileCopyrightText: 2021 Aaron Dewes <aaron.dewes@web.de>
# SPDX-FileCopyrightText: 2021 https://github.com/o3o3o
#
# SPDX-License-Identifier: MIT

set -euo pipefail

CITADEL_ROOT="$(readlink -f $(dirname "${BASH_SOURCE[0]}")/..)"

result=$(docker compose \
  --file "${CITADEL_ROOT}/docker-compose.yml" \
  --env-file "${CITADEL_ROOT}/.env" \
  exec bitcoin bitcoin-cli "$@")

# We need to echo with quotes to preserve output formatting
echo "$result"
